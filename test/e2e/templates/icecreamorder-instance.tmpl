apiVersion: shop.example.com/v1
kind: IceCreamOrder
metadata:
  name: {{ .Name }}
  namespace: {{ .Namespace }}
{{- if .Labels }}
  labels:
{{- range $key, $value := .Labels }}
    {{ $key }}: {{ $value }}
{{- end }}
{{- end }}
{{- if .Annotations }}
  annotations:
{{- range $key, $value := .Annotations }}
    {{ $key }}: {{ $value }}
{{- end }}
{{- end }}
spec:
  customerName: {{ .CustomerName }}
  container: {{ .Container }}
  scoops:
{{- range .Scoops }}
    - flavor: {{ .Flavor }}
      quantity: {{ .Quantity }}
{{- end }}
{{- if .Toppings }}
  toppings:
{{- range .Toppings }}
    - {{ . }}
{{- end }}
{{- end }}