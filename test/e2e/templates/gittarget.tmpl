apiVersion: configbutler.ai/v1alpha1
kind: GitTarget
metadata:
  name: {{ .Name }}
  namespace: {{ .Namespace }}
spec:
  providerRef:
    kind: GitProvider
    name: {{ .ProviderName }}
  branch: {{ .Branch }}
  path: {{ .Path }}
  encryption:
    provider: sops
    secretRef:
      name: {{ .EncryptionSecretName }}
{{- if .GenerateWhenMissing }}
    generateWhenMissing: true
{{- end }}
